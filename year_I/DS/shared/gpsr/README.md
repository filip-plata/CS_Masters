## Dla sportu angielski

## Building note

Building has to be done with my Makefile (just `make micaz sim`), because I use
packets of size greater than 28 - so a define has to be set.

# Description

I will over my files ony by one:

* GpsrApp - handles sensor and initiates sending of data, every 5 seconds
* Beacon - broadcasts position information to nodes, also takes care of receiving this info from others
* Radio.h - message struct definition
* RadioComponent - handles main sending and forwarding. Has a circular buffer of messages to process, and tries to send them. Handles resending messages, when no ACK was received. I implemented remvoing
duplicates at the receiving end
* Router - provides next hop for messages. Uses data from beacon to keep track of neighbours, and implements logic from paper when it comes to choosing next hop

Other files and configuration and interfaces introduced by myself.
Solution is not memory efficient at all, there a few large tables of size 1000.

### Router description

RNG is used. When in PERIMETER mode, not only current node is checked whether it is closer, but also any of its neighbours - this was not implemented in paper. I aslo have added TTL out of fear
of eternal packets - one of my tests showed me how easy it is to introduce them
in corner cases.

### Tests

I attach simple tests. Copying `meyer-heavy.txt` first is required - the standard tinyOS noise.
Then they are generated by running script `runner.py` in `/tests` directory.
It generates a build directory with a lot of directories inside.
Each subdirectory is a copy of the project for one test, and after cd-ing into it can be build with `make micaz sim` and then run with
`./sim.py TEST_NAME.gains MOTES_COUNT`
where TEST_NAME.gains is a file with gains named the same as test, and MOTES_COUNT is
the number of motes in the test - the first number of TEST_NAME.test files.
For instance for unreachable.test, MOTES_COUNT is 4.

Then one can inspect whether messages are arriving in file `recv_msgs.txt`, and see in DEBUG what was
happening inside (forwarding info about hops, messages for perimeter routing).
